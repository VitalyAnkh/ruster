(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8cda"],{"790c":function(e,t,n){},b951:function(e,t,n){"use strict";var a=n("790c"),r=n.n(a);r.a},e081:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"post"}},[n("main",[n("div",{attrs:{id:"container"}},[n("div",{attrs:{id:"center"}},[e._m(0),n("form",{attrs:{id:"form"}},[n("div",{attrs:{id:"topic-group"}},[n("span",{attrs:{id:"category"}},["admin"==e.username?n("select",{directives:[{name:"model",rawName:"v-model",value:e.CategoryName,expression:"CategoryName"}],attrs:{name:"category_name"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.CategoryName=t.target.multiple?n:n[0]}}},e._l(e.category_names_admin,function(t,a){return n("option",{key:a,domProps:{value:t}},[e._v("\n                                                "+e._s(t)+"\n                                        ")])})):n("select",{directives:[{name:"model",rawName:"v-model",value:e.CategoryName,expression:"CategoryName"}],attrs:{name:"category_name"},on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.CategoryName=t.target.multiple?n:n[0]}}},e._l(e.category_names,function(t,a){return n("option",{key:a,domProps:{value:t}},[e._v("\n                                                "+e._s(t)+"\n                                        ")])}))]),n("span",{attrs:{id:"title"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.Title,expression:"Title"}],attrs:{type:"text",name:"title",placeholder:"Please input title"},domProps:{value:e.Title},on:{input:function(t){t.target.composing||(e.Title=t.target.value)}}})])]),n("div",{attrs:{id:"editor"}},[n("mavon-editor",{staticStyle:{height:"100%"},attrs:{name:"content",ishljs:!0,toolbars:e.set},model:{value:e.Content,callback:function(t){e.Content=t},expression:"Content"}})],1),n("div",{attrs:{id:"new"}},[n("button",{attrs:{type:"submit",id:"submit"},on:{click:e.post}},[e._v("发布")])])])]),n("side")],1)])])},r=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"new-title"}},[n("p",[e._v("新主题")])])}],o=(n("c5f6"),n("04ff"),n("b2d8")),i=(n("64e1"),n("db49")),s=n("e67e"),l={name:"post",components:{mavonEditor:o["mavonEditor"],side:s["a"]},data:function(){return{username:"",category_names:"",category_names_admin:"",CategoryName:"",Title:"",Content:"",set:{bold:!0,italic:!0,header:!0,quote:!0,ul:!0,ol:!0,link:!0,code:!0,table:!0,trash:!0,fullscreen:!0,htmlcode:!0,preview:!0,help:!0,underline:!1,strikethrough:!1,mark:!1,alignleft:!1,aligncenter:!1,alignright:!1,superscript:!1,subscript:!1,undo:!1,redo:!1,imagelink:!1,readmodel:!1,save:!1,navigation:!1,subfield:!1}}},mounted:function(){var e=this,t=JSON.parse(localStorage.getItem("signin_user")).username;this.username=t,fetch(i["a"]+"api/categorys",{method:"GET"}).then(function(e){return e.json()}).then(function(t){e.categorys=t.categorys;var n=[],a=[];e.categorys.map(function(e){return n.push(e.category_name_cn)}),e.category_names_admin=n,n.filter(function(e){"官方"!=e&&a.push(e)}),e.category_names=a}).catch(function(e){console.log(e)})},methods:{post:function(){var e=this,t=Number.parseInt(0),n=this.CategoryName,a=this.Title,r=this.Content,o=JSON.parse(localStorage.getItem("signin_user")).id;if(""!=n)if(""!=a)if(""!=r){var s={theme_id:t,user_id:o,category_name:n,title:a,content:r};fetch(i["a"]+"api/theme_new",{body:JSON.stringify(s),headers:{"content-type":"application/json"},method:"POST"}).then(function(e){return e.json()}).then(function(t){e.$router.push("/")}).catch(function(e){console.log(e)}),this.$router.push("/")}else alert("内容不能为空");else alert("标题不能为空");else alert("主题分类不能为空, 请选择一个分类")}}},c=l,u=(n("b951"),n("2877")),m=Object(u["a"])(c,a,r,!1,null,"291ac553",null);m.options.__file="Post.vue";t["default"]=m.exports}}]);