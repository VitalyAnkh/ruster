(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7945"],{6519:function(t,e,n){},ab92:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"edit"}},[n("main",[n("div",{attrs:{id:"container"}},[n("div",{attrs:{id:"center"}},[t._m(0),n("form",{attrs:{id:"form"}},[n("div",{attrs:{id:"topic-group"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.Title,expression:"Title"}],attrs:{type:"text",name:"title",placeholder:"Please input title"},domProps:{value:t.Title},on:{input:function(e){e.target.composing||(t.Title=e.target.value)}}})]),n("div",{attrs:{id:"editor"}},[n("mavon-editor",{staticStyle:{height:"100%"},attrs:{name:"content",ishljs:!0,toolbars:t.set},model:{value:t.Content,callback:function(e){t.Content=e},expression:"Content"}})],1),n("div",{attrs:{id:"new"}},[n("button",{attrs:{type:"submit",id:"submit"},on:{click:t.post}},[t._v("发布")])])])]),n("side")],1)])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"new-title"}},[n("p",[t._v("更新主题")])])}],r=(n("c5f6"),n("04ff"),n("b2d8")),a=(n("64e1"),n("db49")),s=n("e67e"),l={name:"edit",components:{mavonEditor:r["mavonEditor"],side:s["a"]},data:function(){return{Title:"",Content:"",set:{bold:!0,italic:!0,header:!0,quote:!0,ul:!0,ol:!0,link:!0,code:!0,table:!0,trash:!0,fullscreen:!0,htmlcode:!0,preview:!0,help:!0,underline:!1,strikethrough:!1,mark:!1,alignleft:!1,aligncenter:!1,alignright:!1,superscript:!1,subscript:!1,undo:!1,redo:!1,imagelink:!1,readmodel:!1,save:!1,navigation:!1,subfield:!1}}},mounted:function(){var t=this;fetch(a["a"]+"api/theme/"+this.$route.params.id,{method:"GET"}).then(function(t){return t.json()}).then(function(e){t.Title=e.theme.title,t.Content=e.theme_raw_content}).catch(function(t){console.log(t)})},methods:{post:function(){var t=this;if(localStorage.getItem("signin_user")){this.signin_user=JSON.parse(localStorage.getItem("signin_user"));var e=Number.parseInt(this.$route.params.id),n=this.$route.params.category,i=this.Title,o=this.Content,r=JSON.parse(localStorage.getItem("signin_user")).id;if(""!=i)if(""!=o){var s={theme_id:e,user_id:r,category_name:n,title:i,content:o};fetch(a["a"]+"api/theme_new",{body:JSON.stringify(s),headers:{"content-type":"application/json"},method:"POST"}).then(function(t){return t.json()}).then(function(e){t.$router.push("/")}).catch(function(t){console.log(t)}),this.$router.push("/")}else alert("内容不能为空");else alert("标题不能为空")}else alert("非法用户, 请先登陆再操作")}}},c=l,u=(n("bcd2"),n("2877")),d=Object(u["a"])(c,i,o,!1,null,"15ef2470",null);d.options.__file="Edit.vue";e["default"]=d.exports},bcd2:function(t,e,n){"use strict";var i=n("6519"),o=n.n(i);o.a}}]);